// C√ìDIGO CREADO POR GataNina-Li : https://github.com/GataNina-Li
import { createHash } from 'crypto'
import fetch from 'node-fetch'
import PhoneNumber from 'awesome-phonenumber'
import moment from 'moment-timezone'
import axios from 'axios'
import _ from 'lodash'

let nombre = 0,
edad = 0,
genero = 0,
bio = 0,
identidad = 0,
pasatiempo = 0,
registro,
_registro,
fecha,
hora,
tiempo,
registrando,
fechaBio
let pas1 = 0,
pas2 = 0,
pas3 = 0,
pas4 = 0,
pas5 = 0

let handler = async function (m, {conn, text, command, usedPrefix}) {
let key
let sinDefinir = 'üòø Es privada'
let d = new Date(new Date() + 3600000)
let locale = 'es'
let weton = ['Pahing', 'Pon', 'Wage', 'Kliwon', 'Legi'][Math.floor(d / 84600000) % 5]
let week = d.toLocaleDateString(locale, {weekday: 'long'})
let date = d.toLocaleDateString(locale, {
day: 'numeric',
month: 'long',
year: 'numeric'
})
let time = d.toLocaleTimeString(locale, {
hour: 'numeric',
minute: 'numeric',
second: 'numeric'
})
let who = m.mentionedJid && m.mentionedJid[0] ? m.mentionedJid[0] : m.fromMe ? conn.user.jid : m.sender
let pp = await conn.profilePictureUrl(who, 'image').catch((_) => gataMenu)
let ppch = await conn.profilePictureUrl(who, 'image').catch((_) => gataMenu.getRandom())
let userNationality = null
try {
let api = await axios.get(`${apis}/tools/country?text=${PhoneNumber('+' + who.replace('@s.whatsapp.net', '')).getNumber('international')}`)
let userNationalityData = api.data.result
userNationality = userNationalityData ? `${userNationalityData.name} ${userNationalityData.emoji}` : null
} catch (err) {
userNationality = null
}
function pickRandom(list) {
return list[Math.floor(Math.random() * list.length)]
}
let nombreWA = (await usedPrefix) + conn.getName(m.sender) //'@' + m.sender.split("@s.whatsapp.net")[0]
let user = global.db.data.users[m.sender]
let verificar = new RegExp(usedPrefix)

let who2 = m.isGroup ? _.get(m, 'mentionedJid[0]', m.quoted?.sender || m.sender) : m.sender
let biografia = await conn.fetchStatus(who2).catch(() => null)
if (!biografia || !biografia[0] || biografia[0].status === null) {
bio = sinDefinir
fechaBio = 'Fecha no disponible'
} else {
bio = biografia[0].status || sinDefinir
fechaBio = biografia[0].setAt
? new Date(biografia[0].setAt).toLocaleDateString('es-ES', {day: '2-digit', month: '2-digit', year: 'numeric'})
: 'Fecha no disponible'
}

let intervalId
function mensajeRegistro() {
if (edad === 0) {
clearInterval(intervalId)
registrando = false
return
}
if (user.registered === true) {
return
}
if (typeof genero === 'string') {
global.db.data.users[m.sender]['registroC'] = true
registrando = false
conn.reply(
m.chat,
`*SU TIEMPO DE REGISTRO HA TERMINADO!!*\n\n_Si no contin√∫a en este momento su registro no se guardar√°, si guarda m√°s tarde su registro se habr√° perdido_\n\n*Para continuar escriba:* ${usedPrefix}finalizar`,
fkontak,
m
)
} else {
clearInterval(intervalId)
global.db.data.users[m.sender]['registroR'] = true
registrando = false
conn.reply(
m.chat,

if (user.registered === true)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoIIG']()}*YA EST√Å REGISTRADO!!*\n*SI QUIERE ANULAR SU REGISTRO, USE ESTE COMANDO*\n*${usedPrefix}unreg numero de serie*\n\n*SI NO RECUERDA SU N√öMERO DE SERIE, USE ESTE COMANDO*\n*${usedPrefix}myns*`,
fkontak,
m
)

//let groupID = '120363146016943755@g.us'
//try {
//let groupMetadata = await conn.groupMetadata(groupID);
//let groupMembers = groupMetadata.participants.map(participant => participant.id || participant.jid);

//if (!groupMembers.includes(m.sender)) {
//throw `*üëÄ C√ìMO DESEA REGISTRARSE?* Antes de registrarte primero debes unirte al grupo requerido:*\nhttps://chat.whatsapp.com/KNwcGS4PCEN5qjbHD5VDZM\n\n*‚Ä¢ Despu√©s usar el comando de la siguiente manera:*\nüìë *REGISTRO R√ÅPIDO*\n‚Ä¢ Insignia de verificaci√≥n\n‚Ä¢ Desbloquear comandos que requieran registro\n\n*Escriba para el registro r√°pido:*\n${usedPrefix}reg1 nombre edad\n\nüóÇÔ∏è *REGISTRO COMPLETO*\n‚Ä¢ Insignia de verificaci√≥n\n‚Ä¢ Desbloquear comandos que requieran registro\n‚Ä¢ Premium Temporal Gratis\n‚Ä¢ M√°s opciones para este registro\n\n*Escriba para el registro completo:*\n${usedPrefix}nombre\n\n\`\`\`‚≠ê Considere que tendr√° un tiempo para completar en caso de registrarse\`\`\``;
//}} catch (e) {
//console.log(e)}

if (command == 'verificar' || command == 'verify' || command == 'register' || command == 'reg' || command == 'registrar') {
await conn.reply(
m.chat,
`*üëÄ C√ìMO DESEA REGISTRARSE?*\n\nüìë *REGISTRO R√ÅPIDO*\n‚Ä¢ Insignia de verificaci√≥n\n‚Ä¢ Desbloquear comandos que requieran registro\n\n*Escriba para el registro r√°pido:*\n${usedPrefix}reg1 nombre edad\n\nüóÇÔ∏è *REGISTRO COMPLETO*\n‚Ä¢ Insignia de verificaci√≥n\n‚Ä¢ Desbloquear comandos que requieran registro\n‚Ä¢ Premium Temporal Gratis\n‚Ä¢ M√°s opciones para este registro\n\n*Escriba para el registro completo:*\n${usedPrefix}nombre\n\n\`\`\`‚≠ê Considere que tendr√° un tiempo para completar en caso de registrarse\`\`\``,
fkontak,
m
)
}

if (command == 'reg1') {
registrando = true
if (registrando === true) {
intervalId = setInterval(mensajeRegistro, 2 * 60 * 1000) //2 min
setTimeout(() => {
clearInterval(intervalId)
}, 126000) //2.1 min
}

registro = text.replace(/\s+/g, usedPrefix)
_registro = text.split(' ', 2)
if (!text)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoIIG']()}üëâ *PAR√ÅMETROS DEL REGISTRO:*\n${usedPrefix + command} nombre edad\n\n\`\`\`EJEMPLO:\`\`\`\n${usedPrefix + command} ${gt} 20\n\n*‚ú® CONSEJO:*\n‚Ä¢ _Su nombre no debe de contener n√∫meros_\n‚Ä¢ _La edad no debe de contener letras_\n\n‚≠ê *Si desea personalizar m√°s su registro, escriba:*\n${usedPrefix}nombre`,
fkontak,
m
)
//if (_registro['length'] >= 3 || isNaN(_registro[1])) return
//conn.sendButton(m.chat, fg + 'üôÉ *EST√Å INTENTANDO SEPARAR SU NOMBRE O UNIR TODO?* ', 'üßê *COINCIDE COMO EN ESTOS EJEMPLOS:*\n' + `\`\`\`${usedPrefix + command} Super${gt}20\`\`\`` + '\n' + `\`\`\`${usedPrefix + command} Super 15 ${gt} \`\`\`` + '\n' + `\`\`\`${usedPrefix + command} Super ${gt} 24 De ${author}\`\`\`\n\n` + '*Si cumple que tenga (Nombre/Frase y Edad) Autocompletaremos su Registro, de lo contraio vuelva a registrarse*\n‚ûò _Use el Bot√≥n de abajo_', null, [[`üåü AUTOCOMPLETAR MI REGISTRO`, usedPrefix + 'reg1' + ' ' + text.replace(/[‚ôß‚óá‚ô°‚ô§‚ñ†‚ñ°‚óè‚óã‚Ä¢¬∞‚òÜ‚ñ™Ô∏é¬§¬ø?¬°¬¨¬¶¬±√ó√∑¬∞¬µ¬ß¬©¬Æ‚Ñ¢¬∂‚Ç¨¬¢¬£¬•‚ÇΩ‚Çπ‚Ç©‚Ç±‚Ç∏‚Ç™‚Ç´‚ÇÆ‚Ç¶‚Ç¥‚Ç°‚Ç≠‚Ç≤‚Çº‚Çø.,\/#!$%\^&\*;:{}@=\-_`~()\s\0-9]/gi, "") + ' ' + text.replace(/[‚ôß‚óá‚ô°‚ô§‚ñ†‚ñ°‚óè‚óã‚Ä¢¬∞‚òÜ‚ñ™Ô∏é¬§¬ø?¬°¬¨¬¶¬±√ó√∑¬∞¬µ¬ß¬©¬Æ‚Ñ¢¬∂‚Ç¨¬¢¬£¬•‚ÇΩ‚Çπ‚Ç©‚Ç±‚Ç∏‚Ç™‚Ç´‚ÇÆ‚Ç¶‚Ç¥‚Ç°‚Ç≠‚Ç≤‚Çº‚Çø.,\/#!$%\^&\*;:{}@=\-_`~()\s\a-z]/gi, "")], ['üìë VOLVER A REGISTRAR', command + usedPrefix]], m)
if (!_registro[0])
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*FALTA SU NOMBRE, PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
if (_registro[0].length >= 30)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*SU NOMBRE ES MUY LARGO, PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
if (_registro[0].length <= 2)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*SU NOMBRE ES MUY CORTO O FALTANTE, PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
_registro[0] = text.replace(/\s+/g, '').replace(/[0-9]+/gi, '')
user.name = _registro[0]

if (!_registro[1])
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*FALTA SU EDAD, PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
if (isNaN(_registro[1]))
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*NO SE ENCONTR√ì LA EDAD, RECUERDE USAR:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\`\n\n> *Nota:* No use prefijos ni s√≠mbolos entre el nombre y edad, solo es v√°lido un espacio entre el nombre y la edad.`,
fkontak,
m
)
if (_registro[1] > 90)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*SU EDAD ES MUY MAYOR, USE OTRA EDAD POR FAVOR*\n\n*PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
if (_registro[1] < 10)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*SU EDAD ES MUY MENOR, USE OTRA EDAD POR FAVOR*\n\n*PAR√ÅMETROS DEL REGISTRO:*\n\`\`\`${usedPrefix + command} nombre edad\`\`\``,
fkontak,
m
)
user.age = parseInt(_registro[1]) //_registro[1]
global.db.data.users[m.sender]['registroR'] = true

let registroRapido = ` *‚ñë üìë REGISTRO ACTUAL üìë ‚ñë*
 *‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑*
‚îä *‚úì NOMBRE*
‚îä ‚Åò ${user.name === 0 ? sinDefinir : user.name}
‚îä
‚îä *‚úì EDAD*
‚îä ‚Åò ${user.age === 0 ? sinDefinir : user.age + ' a√±os'}
‚ï∞‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚Ä¢

‚ùáÔ∏è \`\`\`Para finalizar su registro escriba:\`\`\`
‚ú™ *${usedPrefix}finalizar*`

await conn.sendMessage(
m.chat,
{
text: registroRapido,
contextInfo: {
externalAdReply: {
title: wm,
body: 'üåü Puede modificar su registro antes de finalizar',
thumbnailUrl: pp,
sourceUrl: 'https://www.atom.bio/gatabot/',
mediaType: 1,
showAdAttribution: true,
renderLargerThumbnail: true
}
}
},
{quoted: fkontak}
)
}

if (command == 'nombre' || command == 'name') {
registrando = true
if (registrando === true) {
intervalId = setInterval(mensajeRegistro, 3 * 60 * 1000) //3 min
setTimeout(() => {
clearInterval(intervalId)
}, 186000) //3.1 min
}
if (verificar.test(text) == false || text.length <= 1)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoIIG']()}üëâ *PERSONALICE SU NOMBRE PARA REGISTRAR, EJEMPLO:*\n${usedPrefix}nombre ${gt}`,
fkontak,
m
)
if (/^\d+$/.test(text))
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*SU NOMBRE NO DEBE DE TENER S√ìLO N√öMEROS, EJEMPLO:*\n${usedPrefix}nombre ${gt}\n\nüåü _Si quiere usar su nombre registrado en su WhatsApp, escriba:_\n*${usedPrefix}nombre2*`
},
{quoted: fkontak}
)
if (text.length >= 25)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*USE UN NOMBRE M√ÅS CORTO, EJEMPLO:*\n${usedPrefix}nombre ${gt}\n\nüåü _Si quiere usar su nombre registrado en su WhatsApp, escriba:_\n*${usedPrefix}nombre2*`
},
{quoted: fkontak}
)
if (text.length <= 2)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*NOMBRE FALTANTE O MUY CORTO, EJEMPLO:*\n${usedPrefix}nombre ${gt}\n\nüåü _Si quiere usar su nombre registrado en su WhatsApp, escriba ${usedPrefix}nombre2_`
},
{quoted: fkontak}
)
user.name = text
.replace(/\s+/g, '')
.replace(/[0-9]+/gi, '')
.trim()
if (user.name)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}üåü *GENIAL!! SE HA COMPLETADO LO SIGUIENTE*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*‚ùñ NOMBRE:*\n${user.name === 0 ? sinDefinir : user.name}\n\nüî¢ *AHORA PUEDE REGISTRAR SU EDAD, EJEMPLO:*\n\`\`\`${usedPrefix}edad 20\`\`\``
},
{quoted: fkontak}
)
}

if (command == 'nombre2' || command == 'name2') {
if (/^\d+$/.test(text))
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*SU NOMBRE NO DEBE DE TENER S√ìLO N√öMEROS, EJEMPLO:*\n${usedPrefix}nombre ${gt}\n\nüåü _Si quiere usar su nombre registrado en su WhatsApp, escriba:_\n*${usedPrefix}nombre2*`
},
{quoted: fkontak}
)
if (nombreWA.slice(1).length < 2)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*SU NOMBRE DE WHATSAPP ES MUY CORTO PARA REGISTRAR*\n\n*Modifique su nombre de WhatsApp e intente de nuevo o puede personalizar üåü su nombre usando:*\n*${usedPrefix}nombre ${gt}*`
},
{quoted: fkontak}
)
if (nombreWA.slice(1).length > 25)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoFG']()}*SU NOMBRE DE WHATSAPP ES MUY LARGO PARA REGISTRAR*\n\n*Modifique su nombre de WhatsApp e intente de nuevo o puede personalizar üåü su nombre usando:*\n*${usedPrefix}nombre ${gt}*`
},
{quoted: fkontak}
)
user.name = nombreWA
.replace(/\s+/g, '')
.replace(/[0-9]+/gi, '')
.slice(1)
.trim()
if (user.name)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}üåü *GENIAL!! SE HA COMPLETADO LO SIGUIENTE*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*‚ùñ NOMBRE:*\n${user.name === 0 ? sinDefinir : user.name}\n\nüî¢ *AHORA PUEDE REGISTRAR SU EDAD, EJEMPLO:*\n\`\`\`${usedPrefix}edad 20\`\`\``
},
{quoted: fkontak}
)
}

if (command == 'edad' || command == 'age' || command == 'edad2' || command == 'age2') {
if (verificar.test(text.slice(1)) == false && !text)
return conn.sendMessage(
m.chat,
{text: `${lenguajeGB['smsAvisoIIG']()}*üëâ AGREGU√â SU EDAD PARA REGISTRAR, EJEMPLO:*\n${usedPrefix}edad 20`},
{quoted: fkontak}
)
if (isNaN(text)) return conn.reply(m.chat, `${lenguajeGB['smsAvisoFG']()}*INGRESE SOLO N√öMEROS*`, fkontak, m)
if (text > 90) return conn.reply(m.chat, `${lenguajeGB['smsAvisoFG']()}*DEMASIADO MAYOR PARA SER REGISTRADO*`, fkontak, m)
if (text < 10) return conn.reply(m.chat, `${lenguajeGB['smsAvisoFG']()}*DEMASIADO MENOR PARA SER REGISTRADO*`, fkontak, m)
user.age = text.replace(/[.,\/#!$%\^&\*;:{}@=\-_`~()\s\a-z]/gi, '')
    if (verificar.test(text) == true)
      return conn.sendMessage(
        m.chat,
        {
          text: `${lenguajeGB['smsAvisoEG']()}üåü *GENIAL!! SE HA COMPLETADO LO SIGUIENTE*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*‚ùñ NOMBRE:*\n${user.name === 0 ? sinDefinir : user.name}\n\n*‚ùñ EDAD:*\n${user.age === 0 ? sinDefinir : user.age + ' a√±os'}\n\nüß¨ *AHORA PUEDE REGISTRAR SU G√âNERO, EJEMPLO:*\n\`\`\`${usedPrefix}genero\`\`\``
},
{quoted: fkontak}
)
}

if (command == 'genero' || command == 'g√©nero' || command == 'gender') {
let genText = `üåü *SELECCIONA TU G√âNERO!!*
1Ô∏è‚É£ Ô∏è‚ñ∏ _üöπ MASCULINO (Hombre)_
2Ô∏è‚É£ ‚ñ∏ _üö∫ FEMENINO (Mujer)_
3Ô∏è‚É£ ‚ñ∏ _üë§ OCULTAR G√âNERO (Omitir)_\n
üåü *PUEDE USAR EL EMOJI NUM√âRICO O TEXTO NUM√âRICO PARA ELEGIR SU G√âNERO EJEMPLO:*
‚úì \`\`\`${usedPrefix}genero 2Ô∏è‚É£\`\`\`
‚úì \`\`\`${usedPrefix}genero 2\`\`\``
if (!text) return conn.sendMessage(m.chat, {text: genText}, {quoted: fkontak})
function asignarGenero(text) {
if (text == 0 && text > 3)
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*"${text}" NO ES V√ÅLIDO PARA ELEGIR, RECUERDE USAR EL EMOJI NUM√âRICO, EMOJI DE G√âNERO O TEXTO NUM√âRICO PARA SELECCIONAR SU G√âNERO, EJEMPLO*\n\n‚úì \`\`\`${usedPrefix}genero 2Ô∏è‚É£\`\`\`\n‚úì \`\`\`${usedPrefix}genero 2\`\`\``,
fkontak,
m
)
switch (text) {
case '1Ô∏è‚É£':
case '1':
case 'üöπ':
genero = 'Hombre'
break
case '2Ô∏è‚É£':
case '2':
case 'üö∫':
genero = 'Mujer'
break
case '3Ô∏è‚É£':
case '3':
case 'üë§':
genero = 'Ocultado'
break
default:
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*RECUERDE USAR EL EMOJI NUM√âRICO, EMOJI DE G√âNERO O TEXTO NUM√âRICO PARA SELECCIONAR SU G√âNERO, EJEMPLO*\n\n‚úì \`\`\`${usedPrefix}genero 2Ô∏è‚É£\`\`\`\n‚úì \`\`\`${usedPrefix}genero 2\`\`\``,
fkontak,
m
)
}
}
asignarGenero(text)
user.genero = genero
if (user.genero)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}üåü *GENIAL!! SE HA COMPLETADO LO SIGUIENTE*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*‚ùñ NOMBRE:*\n${user.name === 0 ? sinDefinir : user.name}\n\n*‚ùñ EDAD:*\n${user.age === 0 ? sinDefinir : user.age + ' a√±os'}\n\n*‚ùñ GENERO:*\n${user.genero === 0 ? sinDefinir : user.genero}\n\n*üåº AHORA PUEDE REGISTRAR SU ORIENTACI√ìN SEXUAL, EJEMPLO:*\n\`\`\`${usedPrefix}identidad\`\`\``
},
{quoted: fkontak}
)
}

if (command == 'identidad' || command == 'identity') {
var generos = [
'Ag√©nero',
'Andr√≥gino',
'Andr√≥gina',
'Asexual',
'Big√©nero',
'Bisexual',
'Cisg√©nero',
'CrossDresser',
'Demig√©nero',
'Gay',
'G√©nero fluido',
'G√©nero neutro',
'Genderqueer',
'Heterosexual',
'Heteroflexible',
'Homoflexible',
'Homosexual',
'Intersexual',
'Lesbiana',
'Pansexual',
'Pang√©nero',
'Questioning',
'Queer',
'Sapiosexual',
'Transg√©nero',
'Trig√©nero',
'Variante/G√©nero expansivo'
]
var emojiANumero = {'0Ô∏è‚É£': '0', '1Ô∏è‚É£': '1', '2Ô∏è‚É£': '2', '3Ô∏è‚É£': '3', '4Ô∏è‚É£': '4', '5Ô∏è‚É£': '5', '6Ô∏è‚É£': '6', '7Ô∏è‚É£': '7', '8Ô∏è‚É£': '8', '9Ô∏è‚É£': '9'}
function asignarIdentidad(text) {
text = text.replace(/[\dÔ∏è‚É£]/g, function (match) {
return emojiANumero[match] || match
})
var numero = parseInt(text.replace(/[^\d]/g, ''))
if (!isNaN(numero) && Number(numero) > 0 && Number(numero) <= generos.length) {
return generos[numero - 1]
} else if (!text) {
return conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*RECUERDE USAR EL EMOJI NUM√âRICO, EMOJI DE G√âNERO O TEXTO NUM√âRICO PARA SELECCIONAR SU ORIENTACI√ìN SEXUAL, EJEMPLO*\n\n‚úì \`\`\`${usedPrefix}identidad 2Ô∏è‚É£\`\`\`\n‚úì \`\`\`${usedPrefix}identidad 2\`\`\``,
fkontak,
m
)
} else {
conn.reply(
m.chat,
`${lenguajeGB['smsAvisoFG']()}*EST√Å ELECCI√ìN "${numero}" NO FORMA PARTE DE LA LISTA DE ORIENTACIONES, ELEGIR UNO DE LA LISTA POR FAVOR, EJEMPLO:*\n\n‚úì \`\`\`${usedPrefix}identidad 2Ô∏è‚É£\`\`\`\n‚úì \`\`\`${usedPrefix}identidad 2\`\`\``,
fkontak,
m
)
}
}
let yyr = ''
yyr += `*‚ï≠‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚Ä¢*
*‚îä üåü SELECCIONE SU ORIENTACI√ìN SEXUAL!!*
*‚îä‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚Ä¢*\n`
generos.forEach(function (identidad, index) {
yyr += `*‚îä* \`\`\`[${index + 1}]\`\`\` ¬ª _${identidad}_\n`
})
yyr += '*‚ï∞‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà*'
if (!text) {
const {key} = await conn.sendMessage(m.chat, {text: yyr}, {quoted: fkontak})
await delay(1000)
await conn.sendMessage(
m.chat,
{
text: yyr + `\n\n‚ú® *AQU√ç UN EJEMPLO DE COMO SELECCIONAR:*\n\`\`\`${usedPrefix}identidad 4Ô∏è‚É£\`\`\`\n\`\`\`${usedPrefix}identidad 4\`\`\``,
edit: key
},
{quoted: fkontak}
)
}
var identidadAsignada = asignarIdentidad(text)
user.identidad = identidadAsignada
if (user.identidad && text < generos.length && text != 0)
return conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}üåü *GENIAL!! SE HA COMPLETADO LO SIGUIENTE*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*‚ùñ NOMBRE:*\n${!user.name ? sinDefinir : user.name}\n\n*‚ùñ EDAD:*\n${!user.age ? sinDefinir : user.age + ' a√±os'}\n\n*‚ùñ GENERO:*\n${!user.genero ? sinDefinir : user.genero}\n\n*‚ùñ ORIENTACI√ìN SEXUAL:*\n${!user.identidad ? sinDefinir : user.identidad}\n\n‚ùáÔ∏è *AHORA PUEDE REGISTRAR SUS PASATIEMPOS, EJEMPLO:*\n\`\`\`${usedPrefix}pasatiempo\`\`\``
},
{quoted: fkontak}
)
}

if (command == 'pasatiempo' || command == 'hobby') {
pasatiempo = 0
pas1 = ''
pas2 = ''
pas3 = ''
pas4 = ''
pas5 = ''
var seleccion = text
var todosLosPasatiempos = [
'üëü Acroyoga',
'üé≠ Actuaci√≥n',
'üé≠ Actuaci√≥n de Improvisaci√≥n',
'üé≠ Actuaci√≥n de voz',
'üé≠ Actuaci√≥n en videojuegos',
'üé≠ Actuar en Comedias de Situaci√≥n Radiof√≥nicas',
'üé≠ Actuar en un Circo Ambulante',
'üé≠ Actuar en una Obra de Teatro Comunitaria',
'üöÅ Aeromodelismo',
'ü•ã Aikido',
'üéØ Airsoft',
'‚ôüÔ∏è Ajedrez',
'üèîÔ∏è Alpinismo',
'üñ•Ô∏è Animaci√≥n',
'üéâ Animador/a de Equipos',
'‚úèÔ∏è Anime dibujos',
'üêù Apicultura',
'üçñ Aprender a asar carnes a la parrilla',
'üé§ Aprender a cantar como mi artista favorito',
'üç§ Aprender a cocinar mariscos',
'üç≥ Aprender a cocinar platos de diferentes culturas',
'üç≤ Aprender a cocinar platos tradicionales japoneses',
'üíª Aprender a codificar y crear mis propias aplicaciones.',
'üé∂ Aprender a componer canciones como mi artista favorito',
'üé® Aprender a dibujar como los artistas de los videojuegos que me gustan',
'üé® Aprender a dibujar como los artistas del anime que me gusta',
'üéº Aprender a dirigir una orquesta',
'üìú Aprender a escribir un blog',
'üßè‚Äç‚ôÄÔ∏è Aprender a hablar con el lenguaje de se√±as japon√©s',
'üçã Aprender a hacer aderezos caseros',
'üçã Aprender a hacer aderezos para ensaladas',
'üì± Aprender a hacer aplicaciones m√≥viles',
'üíê Aprender a hacer arreglos florales japoneses',
'üçö Aprender a hacer arroz al vapor',
'üçö Aprender a hacer arroz con diferentes t√©cnicas',
'üçö Aprender a hacer arroz con frijoles',
'üçö Aprender a hacer arroz con leche',
'üçö Aprender a hacer arroz con pollo',
'üçö Aprender a hacer arroz con verduras',
'üçö Aprender a hacer arroz frito',
'üçö Aprender a hacer arroz integral',
'üçπ Aprender a hacer batidos de frutas',
'üçπ Aprender a hacer batidos de prote√≠nas',
'üç¶ Aprender a hacer batidos y smoothies',
'ü•ó Aprender a hacer bowls de granos',
'üç§ Aprender a hacer brochetas',
'üç™ Aprender a hacer brownies y blondies',
'üç≥ Aprender a hacer brunch',
'üçï Aprender a hacer calzones y empanadas',
'üç§ Aprender a hacer camarones a la parrilla',
'üç§ Aprender a hacer camarones al ajillo',
'ü§ù Unirme a una comunidad online de jugadores',
'üëâ Ver a Casey Neistat',
'üëâ Ver a Drew Gooden',
'üëâ Ver a DrossRotzank',
'üëâ Ver a Germ√°n Garmendia',
'üëâ Ver a iJustine',
'üëâ Ver a James Charles',
'üëâ Ver a Jeffree Star',
'üëâ Ver a Jenna Marbles',
'üëâ Ver a JuegaGerman',
'üëâ Ver a KSI',
'üëâ Ver a Kwebbelkop',
'üëâ Ver a Logan Paul',
'üëâ Ver a Markiplier',
'üëâ Ver a Nigahiga',
'üëâ Ver a Rosanna Pansino',
"üëâ Ver a Ryan's World",
'üëâ Ver a Shane Dawson',
'üëâ Ver a Simply Nailogical',
'üëâ Ver a The Try Guys',
'üëâ Ver a TheOdd1sOut',
'üëâ Ver el canal de CinemaSins',
'üëâ Ver el canal de David Dobrik',
'üëâ Ver el canal de Dude Perfect',
'üëâ Ver el canal de Good Mythical Morning',
'üëâ Ver el canal de How Ridiculous',
'üëâ Ver el canal de Kurtis Conner',
'üëâ Ver el canal de Lilly Singh',
'üëâ Ver el canal de Linus Tech Tips',
'üëâ Ver el canal de Logan Paul',
'üëâ Ver el canal de NigaHiga',
'üëâ Ver el canal de NikkieTutorials',
'üëâ Ver el canal de PewDiePie',
'üëâ Ver el canal de Rhett & Link',
'üëâ Ver el canal de Rosanna Pansino',
'üëâ Ver el canal de Tati Westbrook',
'üëâ Ver el canal de The ACE Family',
'üëâ Ver el canal de The Try Guys',
'üëâ Ver el canal de Troom Troom',
'üëâ Ver el canal de T-Series',
'üëâ Ver el canal de Vegetta777',
'üì∫ Ver maratones de mis series de televisi√≥n favoritas',
'üì∫ Ver televisi√≥n',
'üì∫ Ver todos los episodios de mi anime favorito en un d√≠a',
'üåé Viajar',
'üéí Viajar de mochilero/a',
'üåç Viajar y explorar nuevas culturas.',
'üéà Viajes en Globo Aerost√°tico',
'üéÆ Videojuegos de mundo abierto',
'üéÆ Videojuegos de mundo abierto en l√≠nea',
'üéÆ Videojuegos de supervivencia en l√≠nea',
'üéÆ Videojuegos de terror',
'üéÆ Videojuegos retro',
'üéª Violonchelo',
'ü´Ç Visitar amigos',
'üè∞ Visitar castillos',
'üèùÔ∏è Visitar playas y hacer snorkel.',
'üèõÔ∏è Visitas virtuales a museos',
'üìπ Vlog',
'üìπ Vlogging',
'üèê Voleibol',
'üåç Voluntariado Internacional',
'üöÅ Vuelo en helic√≥ptero',
'üëü Yoga',
'üßò Yoga Acrob√°tico',
'üßò Yoga acu√°tico',
'üßò Yoga a√©reo',
'üßò Yoga caliente',
'üßò Yoga en el Parque con la Comunidad',
'üßò Yoga facial',
'üßò Yoga para embarazadas',
'üßò Yoga para ni√±os.'
]

var emojiANumero = {
'0Ô∏è‚É£': '0',
'1Ô∏è‚É£': '1',
'2Ô∏è‚É£': '2',
'3Ô∏è‚É£': '3',
'4Ô∏è‚É£': '4',
'5Ô∏è‚É£': '5',
'6Ô∏è‚É£': '6',
'7Ô∏è‚É£': '7',
'8Ô∏è‚É£': '8',
'9Ô∏è‚É£': '9'
}
const pasatiemposMap = new Map()
function eliminarEmojis(texto) {
return texto.replace(/[^\w\s]/g, '').toLowerCase()
}
todosLosPasatiempos.forEach((pasatiempo) => {
const textoSinEmoji = eliminarEmojis(pasatiempo)
if (!pasatiemposMap.has(textoSinEmoji)) {
pasatiemposMap.set(textoSinEmoji, pasatiempo.replace(/\.$/, ''))
}
})
let todosLosPasatiemposOrdenados = Array.from(pasatiemposMap.values()).sort(function (a, b) {
const textoA = eliminarEmojis(a)
const textoB = eliminarEmojis(b)
return textoA.localeCompare(textoB)
})
function asignarPasatiempo(text) {
var numero = parseInt(text.replace(/\D/g, ''))
if (numero >= 1 && numero <= todosLosPasatiemposOrdenados.length) {
return todosLosPasatiemposOrdenados[numero - 1]
} else if (text.trim() !== '') {
var pasatiempoIngresado = text.replace(/\D/g, '')
conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*EL PASATIEMPO "${!pasatiempoIngresado ? 'CONTIENE LETRAS üî°' : pasatiempoIngresado === undefined ? 'DE ALGUNA POSICI√ìN' : pasatiempoIngresado}" QUE NO FORMA PARTE DE LA LISTA DE PASATIEMPOS*`,
fkontak,
m
)
return
}
}
let yyr1 = ''
let yyr2 = ''
let yyr3 = ''
let yyr4 = ''
let header = `‚ï≠‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚ïÆ
‚îä üéâ ¬°PASATIEMPOS DISPONIBLES!
‚ï∞‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚ïØ\n`
yyr1 += header
yyr2 += header
yyr3 += header
yyr4 += header
//.replace(/[^\p{L}\p{N}]/gu, '') // Elimina caracteres que no sean letras o n√∫meros
let primeraParte = todosLosPasatiemposOrdenados.slice(0, 100)
let segundaParte = todosLosPasatiemposOrdenados.slice(500, 1000)
let terceraParte = todosLosPasatiemposOrdenados.slice(1000, 1500)
let cuartaParte = todosLosPasatiemposOrdenados.slice(1500)

primeraParte.forEach((pasatiempo, index) => {
yyr1 += ` [ ${index + 1} ] ¬ª ${pasatiempo}\n`
})
segundaParte.forEach((pasatiempo, index) => {
yyr2 += ` [ ${index + 501} ] ¬ª ${pasatiempo}\n`
})
terceraParte.forEach((pasatiempo, index) => {
yyr3 += ` [ ${index + 1001} ] ¬ª ${pasatiempo}\n`
})
cuartaParte.forEach((pasatiempo, index) => {
yyr4 += ` [ ${index + 1501} ] ¬ª ${pasatiempo}\n`
})
let footer = '‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà'
yyr1 += footer
yyr2 += footer
yyr3 += footer
yyr4 += footer
var maximoIndice = todosLosPasatiemposOrdenados.length - 0
async function seleccionarPasatiempos(texto) {
var seleccionados = texto.split(',').map(function (item) {
return item.trim()
})

var pasatiemposSet = new Set()
for (var i = 0; i < seleccionados.length; i++) {
var pasatiempoSeleccionado = asignarPasatiempo(seleccionados[i])
if (pasatiempoSeleccionado !== undefined) {
pasatiemposSet.add(pasatiempoSeleccionado)
if (!pas1) {
pas1 = pasatiempoSeleccionado
} else if (!pas2) {
pas2 = pasatiempoSeleccionado
} else if (!pas3) {
pas3 = pasatiempoSeleccionado
} else if (!pas4) {
pas4 = pasatiempoSeleccionado
} else if (!pas5) {
pas5 = pasatiempoSeleccionado
}
}
}
var pasatiemposUnicos = Array.from(pasatiemposSet)
var resultado = pasatiemposUnicos.join(', ')
var pasatiemposSeleccionados = [pas1, pas2, pas3, pas4, pas5].filter((pasatiempo) => pasatiempo !== '')
var posicionesSet = new Set(pasatiemposSeleccionados)
if (pasatiemposUnicos.length >= 1 && pasatiemposUnicos.length <= 5) {
if (pasatiemposSeleccionados.length >= 1 && pasatiemposSeleccionados.length <= 5 && pasatiemposSeleccionados.length === posicionesSet.size) {
//console.log("Pasatiempos seleccionados:", resultado)
user.pasatiempo = resultado
global.db.data.users[m.sender]['registroC'] = true
conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}*GENIAL!! SE HA AGREGADO \`${pasatiemposSeleccionados.length}/5\` PASATIEMPOS*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*${user.pasatiempo === 0 ? sinDefinir : user.pasatiempo}*\n\nüåü *PARA GUARDAR SU REGISTRO ESCRIBA:*\n\`\`\`${usedPrefix}finalizar\`\`\``
},
{quoted: fkontak}
)
//console.log("Pasatiempos por separado:", pas1, pas2, pas3, pas4, pas5)
} else {
conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*EL PASATIEMPO "${pasatiempoSeleccionado === undefined ? 'DE ALGUNA POSICI√ìN' : pasatiempoSeleccionado}" YA HA SIDO SELECCIONADO*`,
fkontak,
m
)
return
}
} else {
if (text) return
await conn.sendEvent(
m.chat,
gt + ' - Primera lista de pasatiempos.',
`üåü *SELECCIONE M√çNIMO UN PASATIEMPO Y M√ÅXIMO CINCO PASATIEMPOS*\n\n*Para seleccionar varios pasatiempos separ√© por comas (,) adem√°s puede usar n√∫meros o emojis num√©ricos, ejemplo:*\n\n‚ú™ *(1 pasatiempo)*\n‚úì \`\`\`${usedPrefix + command} 2Ô∏è‚É£\`\`\`\n\n‚ú™ *(2 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 45, 65\`\`\`\n\n‚ú™ *(3 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 2Ô∏è‚É£4Ô∏è‚É£, 1Ô∏è‚É£5Ô∏è‚É£6Ô∏è‚É£, 8Ô∏è‚É£9Ô∏è‚É£\`\`\`\n\n‚ú™ *(4 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 223, 456, 6, 4\`\`\`\n\n‚ú™ *(5 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 56, 5Ô∏è‚É£1Ô∏è‚É£6Ô∏è‚É£, 345, 2Ô∏è‚É£4Ô∏è‚É£, 200\`\`\`\n\n_Si quieres que este un pasatiempo que no forma parte de esta lista contacta con los creadores de este bot._\n\n‚ö†Ô∏è _Puedes omitir agregar pasatiempos con el comando *#finalizar* pero ten en cuenta que si omites agregar pasatiempos no recibir√°s recompensas ni tiempo premium gratis y algunos datos no se registrar√°n porque t√∫ registro ser√° considerado *"Registro r√°pido"*._\n\n${yyr1}`,
'Toca para ver m√°s\n' + yyr1 + '\n\nPara ver m√°s pasatiempo revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'Segunda lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*\n\n_Si quieres que este un pasatiempo que no forma parte de esta lista contacta con los creadores de este bot._',
'Toca para ver m√°s\n' + yyr2 + '\n\nPara ver m√°s pasatiempos revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'Tercera lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*',
'Toca para ver m√°s\n' + yyr3 + '\n\nPara ver m√°s pasatiempos revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'√öltima lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*',
'Toca para ver m√°s\n' + yyr4 + '\n\nM√°s pasatiempos pr√≥ximamente...',
false
)
}
}
seleccionarPasatiempos(seleccion)
}

if (command == 'finalizar' || command == 'end') {
if (global.db.data.users[m.sender]['registroC'] == true) {
if (user.premLimit === 0) {
tiempo = user.premLimit === 1 ? 0 : 36000000 //10 horas
var now = new Date() * 1
if (now < user.premiumTime) user.premiumTime += tiempo
else user.premiumTime = now + tiempo
user.premium = true
}
fecha = `${week}, ${date} *||* `
hora = `${time}`
user.tiempo = fecha + hora
user.name = user.name === 0 ? sinDefinir : user.name + 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ'
user.descripcion = bio
user.age =
user.age === 0 ? sinDefinir : user.age >= 18 ? (user.age += ' A√±os ' + '(Persona Adulta)') : (user.age += ' A√±os ' + '(Persona Joven)')
user.genero =
user.genero === 0
? sinDefinir
: user.genero == 'Ocultado'
? `${user.genero} üï∂Ô∏è`
: user.genero == 'Mujer'
? `${user.genero} üö∫`
: user.genero == 'Hombre'
? `${user.genero} üöπ`
: sinDefinir
user.identidad = user.identidad === 0 ? sinDefinir : user.identidad
user.pasatiempo = user.pasatiempo === 0 ? sinDefinir : user.pasatiempo
} else {
fecha = `${week}, ${date} || `
hora = `${time}`
user.tiempo = fecha + hora
user.name = user.name === 0 ? sinDefinir : user.name + 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ'
user.age =
user.age === 0 ? sinDefinir : user.age >= 18 ? (user.age += ' A√±os ' + '(Persona Adulta)') : (user.age += ' A√±os ' + '(Persona Joven)')
user.descripcion = bio
}
user.regTime = +new Date()
user.registered = true
let sn = createHash('md5').update(m.sender).digest('hex').slice(0, 6)
registrando = false
clearInterval(intervalId)
await conn.sendMessage(
m.chat,
{
text: `üçÉ \`\`\`VERIFICACI√ìN EXITOSA\`\`\` üçÉ
*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n
üòº *REGISTRADO POR*
‚ù±‚ù± ${wm}\n
üìë *TIPO DE REGISTRO* 
‚ù±‚ù± ${user.registroC === true ? 'REGISTRO COMPLETO' : 'REGISTRO R√ÅPIDO'}\n
‚åõ *FECHA/HORA*
‚ù±‚ù± ${user.tiempo}\n
üõÖ *C√ìDIGO DE REGISTRO*
‚ù±‚ù± ${sn}\n
‚úÖ *INSIGNIA DE VERIFICACI√ìN*
‚ù±‚ù±   *${user.registered === true ? 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ' : ''}*\n
‚ú® *NOMBRE* 
‚ù±‚ù± ${user.name}\n
üëÄ *DESCRIPCI√ìN*
‚ù±‚ù± ${user.descripcion}\n
‚è≥ *MODIFICACI√ìN DE DESCRIPCI√ìN*
‚ù±‚ù± ${fechaBio}\n
üî¢ *EDAD* 
‚ù±‚ù± ${user.age}\n
${
  user.registroC === true
    ? `‚òòÔ∏è *G√âNERO*
‚ù±‚ù± ${user.genero}\n
üå± *ORIENTACI√ìN SEXUAL*
‚ù±‚ù± ${user.identidad}\n
‚ùáÔ∏è *PASATIEMPO(S)*
‚ù±‚ù± ${user.pasatiempo}\n
${
user.premLimit === 1
? ''
: `üéüÔ∏è *PREMIUM*
‚ù±‚ù± ${user.premLimit === 1 ? '' : `${user.premiumTime > 0 ? '‚úÖ' : '‚ùå'} +10 HORAS || ${user.premiumTime - now} ms`}`
}   `
    : ''
}${user.registroC === true ? '\nüåü *Si es su primera vez registr√°ndose, recibir√° horas premium de forma gratuita como bonificaci√≥n exclusiva por su primera inscripci√≥n, puede cancelar y eliminar su registro en cualquier momento. Gracias por registrarse ‚ú®*' : ''}\n> *Mira t√∫ registro en este canal*\nhttps://whatsapp.com/channel/0029VatPwXw7Noa8n1Vinx3g`.trim(),
contextInfo: {
externalAdReply: {
title: wm,
body: user.name,
thumbnailUrl: pp,
sourceUrl: 'https://www.atom.bio/gatabot',
mediaType: 1,
showAdAttribution: true,
renderLargerThumbnail: true
}
}
},
{quoted: fkontak}
)
await m.reply(`${sn}`)

let chtxt =
`üìë *Tipo de registro ¬ª* ${user.registroC === true ? 'Completo' : 'R√°pido'} ${userNationality ? `\nüåé *Pa√≠s ¬ª* ${userNationality}` : ''}
üë§ *Usuario ¬ª* ${m.pushName || 'An√≥nimo'}
‚úÖ *Verificaci√≥n ¬ª* ${user.name}
üëÄ *Descripci√≥n ¬ª* ${user.descripcion} 
‚è≥ *Modificaci√≥n de descripci√≥n ¬ª* ${fechaBio}
üî¢ *Edad ¬ª* ${user.age}${
        user.registroC === true
          ? `\n‚òòÔ∏è *G√©nero ¬ª* ${user.genero}
üå± *Orientaci√≥n Sexual ¬ª* ${user.identidad}
‚ùáÔ∏è *Pasatiempo(s) ¬ª* ${user.pasatiempo}
${user.premLimit === 1 ? '' : `üéüÔ∏è *Premium ¬ª* ${user.premLimit === 1 ? '' : `${user.premiumTime > 0 ? '‚úÖ' : '‚ùå'} +10 HORAS || ${user.premiumTime - now} ms`}`}   `
          : ''
      }${user.registroC === true ? '\n\n> üåü *Si es su primera vez registr√°ndose, recibir√° horas premium de forma gratuita como bonificaci√≥n exclusiva por su primera inscripci√≥n, puede cancelar y eliminar su registro en cualquier momento. Gracias por registrarse ‚ú®*' : ''}
üêà *Bot:* ${gt}`.trim()
await global.conn.sendMessage(
ch.ch1,
{
text: chtxt,
contextInfo: {
externalAdReply: {
title: '„Äê üîî Notificaci√≥n General üîî „Äë',
body: 'ü•≥ ¬°Nuevo usuario registrado!',
thumbnailUrl: ppch,
sourceUrl: accountsgb,
mediaType: 1,
showAdAttribution: false,
renderLargerThumbnail: false
}
}
},
{quoted: null}
)
}
}
handler.command = [
'verify',
'verificar',
'register',
'registrar',
'reg',
'reg1',
'nombre',
'name',
'nombre2',
'name2',
'edad',
'age',
'edad2',
'age2',
'genero',
'g√©nero',
'gender',
'identidad',
'pasatiempo',
'hobby',
'identity',
'finalizar',
'pas2',
'pas3',
'pas4',
'pas5'
] ///^(verify|verificar|reg(ister)?)$/i
export default handler

function pickRandom(list) {
return list[Math.floor(Math.random() * list.length)]
}

const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))'ü§ù Unirme a una comunidad online de jugadores',
'üëâ Ver a Casey Neistat',
'üëâ Ver a Drew Gooden',
'üëâ Ver a DrossRotzank',
'üëâ Ver a Germ√°n Garmendia',
'üëâ Ver a iJustine',
'üëâ Ver a James Charles',
'üëâ Ver a Jeffree Star',
'üëâ Ver a Jenna Marbles',
'üëâ Ver a JuegaGerman',
'üëâ Ver a KSI',
'üëâ Ver a Kwebbelkop',
'üëâ Ver a Logan Paul',
'üëâ Ver a Markiplier',
'üëâ Ver a Nigahiga',
'üëâ Ver a Rosanna Pansino',
"üëâ Ver a Ryan's World",
'üëâ Ver a Shane Dawson',
'üëâ Ver a Simply Nailogical',
'üëâ Ver a The Try Guys',
'üëâ Ver a TheOdd1sOut',
'üëâ Ver el canal de CinemaSins',
'üëâ Ver el canal de David Dobrik',
'üëâ Ver el canal de Dude Perfect',
'üëâ Ver el canal de Good Mythical Morning',
'üëâ Ver el canal de How Ridiculous',
'üëâ Ver el canal de Kurtis Conner',
'üëâ Ver el canal de Lilly Singh',
'üëâ Ver el canal de Linus Tech Tips',
'üëâ Ver el canal de Logan Paul',
'üëâ Ver el canal de NigaHiga',
'üëâ Ver el canal de NikkieTutorials',
'üëâ Ver el canal de PewDiePie',
'üëâ Ver el canal de Rhett & Link',
'üëâ Ver el canal de Rosanna Pansino',
'üëâ Ver el canal de Tati Westbrook',
'üëâ Ver el canal de The ACE Family',
'üëâ Ver el canal de The Try Guys',
'üëâ Ver el canal de Troom Troom',
'üëâ Ver el canal de T-Series',
'üëâ Ver el canal de Vegetta777',
'üì∫ Ver maratones de mis series de televisi√≥n favoritas',
'üì∫ Ver televisi√≥n',
'üì∫ Ver todos los episodios de mi anime favorito en un d√≠a',
'üåé Viajar',
'üéí Viajar de mochilero/a',
'üåç Viajar y explorar nuevas culturas.',
'üéà Viajes en Globo Aerost√°tico',
'üéÆ Videojuegos de mundo abierto',
'üéÆ Videojuegos de mundo abierto en l√≠nea',
'üéÆ Videojuegos de supervivencia en l√≠nea',
'üéÆ Videojuegos de terror',
'üéÆ Videojuegos retro',
'üéª Violonchelo',
'ü´Ç Visitar amigos',
'üè∞ Visitar castillos',
'üèùÔ∏è Visitar playas y hacer snorkel.',
'üèõÔ∏è Visitas virtuales a museos',
'üìπ Vlog',
'üìπ Vlogging',
'üèê Voleibol',
'üåç Voluntariado Internacional',
'üöÅ Vuelo en helic√≥ptero',
'üëü Yoga',
'üßò Yoga Acrob√°tico',
'üßò Yoga acu√°tico',
'üßò Yoga a√©reo',
'üßò Yoga caliente',
'üßò Yoga en el Parque con la Comunidad',
'üßò Yoga facial',
'üßò Yoga para embarazadas',
'üßò Yoga para ni√±os.'
]

var emojiANumero = {
'0Ô∏è‚É£': '0',
'1Ô∏è‚É£': '1',
'2Ô∏è‚É£': '2',
'3Ô∏è‚É£': '3',
'4Ô∏è‚É£': '4',
'5Ô∏è‚É£': '5',
'6Ô∏è‚É£': '6',
'7Ô∏è‚É£': '7',
'8Ô∏è‚É£': '8',
'9Ô∏è‚É£': '9'
}
const pasatiemposMap = new Map()
function eliminarEmojis(texto) {
return texto.replace(/[^\w\s]/g, '').toLowerCase()
}
todosLosPasatiempos.forEach((pasatiempo) => {
const textoSinEmoji = eliminarEmojis(pasatiempo)
if (!pasatiemposMap.has(textoSinEmoji)) {
pasatiemposMap.set(textoSinEmoji, pasatiempo.replace(/\.$/, ''))
}
})
let todosLosPasatiemposOrdenados = Array.from(pasatiemposMap.values()).sort(function (a, b) {
const textoA = eliminarEmojis(a)
const textoB = eliminarEmojis(b)
return textoA.localeCompare(textoB)
})
function asignarPasatiempo(text) {
var numero = parseInt(text.replace(/\D/g, ''))
if (numero >= 1 && numero <= todosLosPasatiemposOrdenados.length) {
return todosLosPasatiemposOrdenados[numero - 1]
} else if (text.trim() !== '') {
var pasatiempoIngresado = text.replace(/\D/g, '')
conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*EL PASATIEMPO "${!pasatiempoIngresado ? 'CONTIENE LETRAS üî°' : pasatiempoIngresado === undefined ? 'DE ALGUNA POSICI√ìN' : pasatiempoIngresado}" QUE NO FORMA PARTE DE LA LISTA DE PASATIEMPOS*`,
fkontak,
m
)
return
}
}
let yyr1 = ''
let yyr2 = ''
let yyr3 = ''
let yyr4 = ''
let header = `‚ï≠‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚ïÆ
‚îä üéâ ¬°PASATIEMPOS DISPONIBLES!
‚ï∞‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚ïØ\n`
yyr1 += header
yyr2 += header
yyr3 += header
yyr4 += header
//.replace(/[^\p{L}\p{N}]/gu, '') // Elimina caracteres que no sean letras o n√∫meros
let primeraParte = todosLosPasatiemposOrdenados.slice(0, 100)
let segundaParte = todosLosPasatiemposOrdenados.slice(500, 1000)
let terceraParte = todosLosPasatiemposOrdenados.slice(1000, 1500)
let cuartaParte = todosLosPasatiemposOrdenados.slice(1500)

primeraParte.forEach((pasatiempo, index) => {
yyr1 += ` [ ${index + 1} ] ¬ª ${pasatiempo}\n`
})
segundaParte.forEach((pasatiempo, index) => {
yyr2 += ` [ ${index + 501} ] ¬ª ${pasatiempo}\n`
})
terceraParte.forEach((pasatiempo, index) => {
yyr3 += ` [ ${index + 1001} ] ¬ª ${pasatiempo}\n`
})
cuartaParte.forEach((pasatiempo, index) => {
yyr4 += ` [ ${index + 1501} ] ¬ª ${pasatiempo}\n`
})
let footer = '‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà‚îà'
yyr1 += footer
yyr2 += footer
yyr3 += footer
yyr4 += footer
var maximoIndice = todosLosPasatiemposOrdenados.length - 0
async function seleccionarPasatiempos(texto) {
var seleccionados = texto.split(',').map(function (item) {
return item.trim()
})

var pasatiemposSet = new Set()
for (var i = 0; i < seleccionados.length; i++) {
var pasatiempoSeleccionado = asignarPasatiempo(seleccionados[i])
if (pasatiempoSeleccionado !== undefined) {
pasatiemposSet.add(pasatiempoSeleccionado)
if (!pas1) {
pas1 = pasatiempoSeleccionado
} else if (!pas2) {
pas2 = pasatiempoSeleccionado
} else if (!pas3) {
pas3 = pasatiempoSeleccionado
} else if (!pas4) {
pas4 = pasatiempoSeleccionado
} else if (!pas5) {
pas5 = pasatiempoSeleccionado
}
}
}
var pasatiemposUnicos = Array.from(pasatiemposSet)
var resultado = pasatiemposUnicos.join(', ')
var pasatiemposSeleccionados = [pas1, pas2, pas3, pas4, pas5].filter((pasatiempo) => pasatiempo !== '')
var posicionesSet = new Set(pasatiemposSeleccionados)
if (pasatiemposUnicos.length >= 1 && pasatiemposUnicos.length <= 5) {
if (pasatiemposSeleccionados.length >= 1 && pasatiemposSeleccionados.length <= 5 && pasatiemposSeleccionados.length === posicionesSet.size) {
//console.log("Pasatiempos seleccionados:", resultado)
user.pasatiempo = resultado
global.db.data.users[m.sender]['registroC'] = true
conn.sendMessage(
m.chat,
{
text: `${lenguajeGB['smsAvisoEG']()}*GENIAL!! SE HA AGREGADO \`${pasatiemposSeleccionados.length}/5\` PASATIEMPOS*\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n*${user.pasatiempo === 0 ? sinDefinir : user.pasatiempo}*\n\nüåü *PARA GUARDAR SU REGISTRO ESCRIBA:*\n\`\`\`${usedPrefix}finalizar\`\`\``
},
{quoted: fkontak}
)
//console.log("Pasatiempos por separado:", pas1, pas2, pas3, pas4, pas5)
} else {
conn.reply(
m.chat,
`${lenguajeGB['smsAvisoAG']()}*EL PASATIEMPO "${pasatiempoSeleccionado === undefined ? 'DE ALGUNA POSICI√ìN' : pasatiempoSeleccionado}" YA HA SIDO SELECCIONADO*`,
fkontak,
m
)
return
}
} else {
if (text) return
await conn.sendEvent(
m.chat,
gt + ' - Primera lista de pasatiempos.',
`üåü *SELECCIONE M√çNIMO UN PASATIEMPO Y M√ÅXIMO CINCO PASATIEMPOS*\n\n*Para seleccionar varios pasatiempos separ√© por comas (,) adem√°s puede usar n√∫meros o emojis num√©ricos, ejemplo:*\n\n‚ú™ *(1 pasatiempo)*\n‚úì \`\`\`${usedPrefix + command} 2Ô∏è‚É£\`\`\`\n\n‚ú™ *(2 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 45, 65\`\`\`\n\n‚ú™ *(3 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 2Ô∏è‚É£4Ô∏è‚É£, 1Ô∏è‚É£5Ô∏è‚É£6Ô∏è‚É£, 8Ô∏è‚É£9Ô∏è‚É£\`\`\`\n\n‚ú™ *(4 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 223, 456, 6, 4\`\`\`\n\n‚ú™ *(5 pasatiempos)*\n‚úì \`\`\`${usedPrefix + command} 56, 5Ô∏è‚É£1Ô∏è‚É£6Ô∏è‚É£, 345, 2Ô∏è‚É£4Ô∏è‚É£, 200\`\`\`\n\n_Si quieres que este un pasatiempo que no forma parte de esta lista contacta con los creadores de este bot._\n\n‚ö†Ô∏è _Puedes omitir agregar pasatiempos con el comando *#finalizar* pero ten en cuenta que si omites agregar pasatiempos no recibir√°s recompensas ni tiempo premium gratis y algunos datos no se registrar√°n porque t√∫ registro ser√° considerado *"Registro r√°pido"*._\n\n${yyr1}`,
'Toca para ver m√°s\n' + yyr1 + '\n\nPara ver m√°s pasatiempo revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'Segunda lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*\n\n_Si quieres que este un pasatiempo que no forma parte de esta lista contacta con los creadores de este bot._',
'Toca para ver m√°s\n' + yyr2 + '\n\nPara ver m√°s pasatiempos revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'Tercera lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*',
'Toca para ver m√°s\n' + yyr3 + '\n\nPara ver m√°s pasatiempos revise los otros mensajes del bot.',
false
)
await conn.sendEvent(
m.chat,
'√öltima lista de pasatiempos.',
'*Para ver las idicaciones para seleccionar pasatiempos, dir√≠gete al primer mensaje del evento.*',
'Toca para ver m√°s\n' + yyr4 + '\n\nM√°s pasatiempos pr√≥ximamente...',
false
)
}
}
seleccionarPasatiempos(seleccion)
}

if (command == 'finalizar' || command == 'end') {
if (global.db.data.users[m.sender]['registroC'] == true) {
if (user.premLimit === 0) {
tiempo = user.premLimit === 1 ? 0 : 36000000 //10 horas
var now = new Date() * 1
if (now < user.premiumTime) user.premiumTime += tiempo
else user.premiumTime = now + tiempo
user.premium = true
}
fecha = `${week}, ${date} *||* `
hora = `${time}`
user.tiempo = fecha + hora
user.name = user.name === 0 ? sinDefinir : user.name + 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ'
user.descripcion = bio
user.age =
user.age === 0 ? sinDefinir : user.age >= 18 ? (user.age += ' A√±os ' + '(Persona Adulta)') : (user.age += ' A√±os ' + '(Persona Joven)')
user.genero =
user.genero === 0
? sinDefinir
: user.genero == 'Ocultado'
? `${user.genero} üï∂Ô∏è`
: user.genero == 'Mujer'
? `${user.genero} üö∫`
: user.genero == 'Hombre'
? `${user.genero} üöπ`
: sinDefinir
user.identidad = user.identidad === 0 ? sinDefinir : user.identidad
user.pasatiempo = user.pasatiempo === 0 ? sinDefinir : user.pasatiempo
} else {
fecha = `${week}, ${date} || `
hora = `${time}`
user.tiempo = fecha + hora
user.name = user.name === 0 ? sinDefinir : user.name + 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ'
user.age =
user.age === 0 ? sinDefinir : user.age >= 18 ? (user.age += ' A√±os ' + '(Persona Adulta)') : (user.age += ' A√±os ' + '(Persona Joven)')
user.descripcion = bio
}
user.regTime = +new Date()
user.registered = true
let sn = createHash('md5').update(m.sender).digest('hex').slice(0, 6)
registrando = false
clearInterval(intervalId)
await conn.sendMessage(
m.chat,
{
text: `üçÉ \`\`\`VERIFICACI√ìN EXITOSA\`\`\` üçÉ
*- - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n
üòº *REGISTRADO POR*
‚ù±‚ù± ${wm}\n
üìë *TIPO DE REGISTRO* 
‚ù±‚ù± ${user.registroC === true ? 'REGISTRO COMPLETO' : 'REGISTRO R√ÅPIDO'}\n
‚åõ *FECHA/HORA*
‚ù±‚ù± ${user.tiempo}\n
üõÖ *C√ìDIGO DE REGISTRO*
‚ù±‚ù± ${sn}\n
‚úÖ *INSIGNIA DE VERIFICACI√ìN*
‚ù±‚ù±   *${user.registered === true ? 'ÕßÕßÕßÕ¶Íô∂Õ£Õ§‚úì·ö≤·¥≥·¥Æ' : ''}*\n
‚ú® *NOMBRE* 
‚ù±‚ù± ${user.name}\n
üëÄ *DESCRIPCI√ìN*
‚ù±‚ù± ${user.descripcion}\n
‚è≥ *MODIFICACI√ìN DE DESCRIPCI√ìN*
‚ù±‚ù± ${fechaBio}\n
üî¢ *EDAD* 
‚ù±‚ù± ${user.age}\n
${
  user.registroC === true
    ? `‚òòÔ∏è *G√âNERO*
‚ù±‚ù± ${user.genero}\n
üå± *ORIENTACI√ìN SEXUAL*
‚ù±‚ù± ${user.identidad}\n
‚ùáÔ∏è *PASATIEMPO(S)*
‚ù±‚ù± ${user.pasatiempo}\n
${
user.premLimit === 1
? ''
: `üéüÔ∏è *PREMIUM*
‚ù±‚ù± ${user.premLimit === 1 ? '' : `${user.premiumTime > 0 ? '‚úÖ' : '‚ùå'} +10 HORAS || ${user.premiumTime - now} ms`}`
}   `
    : ''
}${user.registroC === true ? '\nüåü *Si es su primera vez registr√°ndose, recibir√° horas premium de forma gratuita como bonificaci√≥n exclusiva por su primera inscripci√≥n, puede cancelar y eliminar su registro en cualquier momento. Gracias por registrarse ‚ú®*' : ''}\n> *Mira t√∫ registro en este canal*\nhttps://whatsapp.com/channel/0029VatPwXw7Noa8n1Vinx3g`.trim(),
contextInfo: {
externalAdReply: {
title: wm,
body: user.name,
thumbnailUrl: pp,
sourceUrl: 'https://www.atom.bio/gatabot',
mediaType: 1,
showAdAttribution: true,
renderLargerThumbnail: true
}
}
},
{quoted: fkontak}
)
await m.reply(`${sn}`)

let chtxt =
`üìë *Tipo de registro ¬ª* ${user.registroC === true ? 'Completo' : 'R√°pido'} ${userNationality ? `\nüåé *Pa√≠s ¬ª* ${userNationality}` : ''}
üë§ *Usuario ¬ª* ${m.pushName || 'An√≥nimo'}
‚úÖ *Verificaci√≥n ¬ª* ${user.name}
üëÄ *Descripci√≥n ¬ª* ${user.descripcion} 
‚è≥ *Modificaci√≥n de descripci√≥n ¬ª* ${fechaBio}
üî¢ *Edad ¬ª* ${user.age}${
        user.registroC === true
          ? `\n‚òòÔ∏è *G√©nero ¬ª* ${user.genero}
üå± *Orientaci√≥n Sexual ¬ª* ${user.identidad}
‚ùáÔ∏è *Pasatiempo(s) ¬ª* ${user.pasatiempo}
${user.premLimit === 1 ? '' : `üéüÔ∏è *Premium ¬ª* ${user.premLimit === 1 ? '' : `${user.premiumTime > 0 ? '‚úÖ' : '‚ùå'} +10 HORAS || ${user.premiumTime - now} ms`}`}   `
          : ''
      }${user.registroC === true ? '\n\n> üåü *Si es su primera vez registr√°ndose, recibir√° horas premium de forma gratuita como bonificaci√≥n exclusiva por su primera inscripci√≥n, puede cancelar y eliminar su registro en cualquier momento. Gracias por registrarse ‚ú®*' : ''}
üêà *Bot:* ${gt}`.trim()
await global.conn.sendMessage(
ch.ch1,
{
text: chtxt,
contextInfo: {
externalAdReply: {
title: '„Äê üîî Notificaci√≥n General üîî „Äë',
body: 'ü•≥ ¬°Nuevo usuario registrado!',
thumbnailUrl: ppch,
sourceUrl: accountsgb,
mediaType: 1,
showAdAttribution: false,
renderLargerThumbnail: false
}
}
},
{quoted: null}
)
}
}
handler.command = [
'verify',
'verificar',
'register',
'registrar',
'reg',
'reg1',
'nombre',
'name',
'nombre2',
'name2',
'edad',
'age',
'edad2',
'age2',
'genero',
'g√©nero',
'gender',
'identidad',
'pasatiempo',
'hobby',
'identity',
'pas2',
'pas3',
'pas4',
'pas5'
] ///^(verify|verificar|reg(ister)?)$/i
export default handler

function pickRandom(list) {
return list[Math.floor(Math.random() * list.length)]
}

const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))